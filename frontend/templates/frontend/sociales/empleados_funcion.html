{% extends 'layauts/base_responsive.html' %}
{% load static %}
{% block content %}
<section class="p-0">
    <div class="container-fluid">
        <div class="card mb-0">
            <div class="card-body">
                <div class="row gx-5 bg-white">
                    <div class="col-md-12 mb-6">
                        <div class="chart" style="width:100%;height: 400px" id="chart5"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
{% endblock %}
{% block otherscripts %}
<link rel="stylesheet" href="{% static 'css/amcharts.css' %}">
<script src="{% static 'js/amCharts/amcharts.js'%}"></script>
<script src="{% static 'js/amCharts/serial.min.js'%}"></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        var BARCHARTHOME = document.getElementById('barChartHome2');

        var chart5 = AmCharts.makeChart("chart5", {
            "titles": [
                {
                    "text": "Número de empleados, desglose por función.",
                    "size": 16,
                    "color": "#000000"
                },
                {
                    "text": "",
                    "size": 12
                }
            ],
            "addClassNames": true,
            "colors": ["#1C5DA6", "#6298C2", '#FF8C48', '#A4B05F', '#ffffff'],
            "type": "serial",
            "theme": "none",
            "legend": {
                "horizontalGap": 10,
                "maxColumns": 1,
                "position": "bottom",
                "useGraphSettings": true,
                "markerSize": 10
            },
            "dataProvider": [
                {
                    "year": 2019,
                    "admon":  20,
                    "operaciones":  1000,
                    "construccion":  50,
                    "directivos":  5,
                    "total":  1075,
                },
                {
                    "year": 2020,
                    "admon":  20,
                    "operaciones":  1100,
                    "construccion":  52,
                    "directivos":  5,
                    "total":  1177,
                },
                {
                    "year": 2021,
                    "admon":  21,
                    "operaciones":  1200,
                    "construccion":  50,
                    "directivos":  4,
                    "total":  1275,
                },
                {
                    "year": 2022,
                    "admon":  19,
                    "operaciones":  1360,
                    "construccion":  40,
                    "directivos":  3,
                    "total":  1422,
                }
            ],
            "valueAxes": [{
                "stackType": "regular",
                "axisAlpha": 0.3,
                "gridAlpha": 0
            }],
            "graphs": [
                {
                    "balloonText": "<b>[[title]]</b><br><span style='font-size:14px'>[[category]]: <b>[[value]]</b></span>",
                    "fillAlphas": 0.8,
                    "labelText": "[[value]]",
                    "lineAlpha": 0.3,
                    "title": "Administración",
                    "type": "column",
                    "color": "#000000",
                    "valueField": "admon"
                },
                {
                    "balloonText": "<b>[[title]]</b><br><span style='font-size:14px'>[[category]]: <b>[[value]]</b></span>",
                    "fillAlphas": 0.8,
                    "labelText": "[[value]]",
                    "lineAlpha": 0.3,
                    "title": "Operaciones",
                    "type": "column",
                    "color": "#000000",
                    "valueField": "operaciones"
                },
                {
                    "balloonText": "<b>[[title]]</b><br><span style='font-size:14px'>[[category]]: <b>[[value]]</b></span>",
                    "fillAlphas": 0.8,
                    "labelText": "[[value]]",
                    "lineAlpha": 0.3,
                    "title": "Construcción e ingeniería",
                    "type": "column",
                    "color": "#000000",
                    "valueField": "construccion"
                },
                {
                    "balloonText": "<b>[[title]]</b><br><span style='font-size:14px'>[[category]]: <b>[[value]]</b></span>",
                    "fillAlphas": 0.8,
                    "labelText": "[[value]]",
                    "lineAlpha": 0.3,
                    "title": "Directivos relevantes",
                    "type": "column",
                    "color": "#000000",
                    "valueField": "directivos"
                },
                {
                    "balloonText": "<b>[[title]]</b><br><span style='font-size:14px'>[[category]]: <b>[[value]]</b></span>",
                    "fillAlphas": 0.8,
                    "labelText": "[[value]]",
                    "lineAlpha": 0.3,
                    "title": "Total",
                    "type": "column",
                    "color": "#000000",
                    "valueField": "total"
                }
            ],
            "categoryField": "year",
            "categoryAxis": {
                "gridPosition": "start",
                "axisAlpha": 0,
                "gridAlpha": 0,
                "position": "left"
            }

        });
    });
</script>
{% endblock %}